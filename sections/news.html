<section class="py-16">
  <div class="fade-in mx-auto px-6">
    <h2 class="text-2xl font-bold text-center text-white mb-8">Berita Terbaru</h2>

    <div id="latest-news-container" class="flex flex-wrap gap-8 justify-center"></div>

    <div class="mt-10 text-center">
      <a href="news.html" class="px-6 py-2 bg-white text-black font-medium rounded-lg hover:bg-gray-200 transition">Lihat berita lainnya</a>
    </div>
  </div>
</section>

<script src="js/data/news.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const newsContainer = document.getElementById("latest-news-container");

    // Guard Clause: Cek data
    if (typeof newsData === "undefined" || !Array.isArray(newsData) || newsData.length === 0) {
      newsContainer.innerHTML = '<p class="text-white text-center">Data berita tidak ditemukan!</p>';
      return;
    }

    // Ambil hanya 3 berita pertama (terbaru)
    const latestNews = newsData.slice(0, 3);

    let newsCardsHTML = "";

    latestNews.forEach((news) => {
      // Pastikan path untuk news-detail.html disesuaikan, dan menggunakan ID
      const detailLink = `page/news/news-detail.html?id=${news.id}`;

      // Struktur Card HTML persis seperti yang Anda berikan, hanya isi datanya yang dinamis
      const newsCard = `
        <div
          class="flex flex-col rounded-xl overflow-hidden border border-transparent transition-all duration-500 hover:border-green-500 hover:shadow-lg hover:shadow-green-500/40 cursor-pointer"
          onclick="window.location.href='${detailLink}'"
          style="max-width: 300px;" 
        >
          <div class="overflow-hidden rounded-xl shadow-lg flex items-center justify-center bg-black" style="width: 100%; height: 220px; flex-shrink: 0">
            <img 
              src="${news.imgSrc}" 
              alt="${news.title}" 
              style="width: 100%; height: 100%; object-fit: cover" 
              class="transition-transform duration-500 hover:scale-105" 
            />
          </div>

          <div class="mt-4 flex flex-col flex-1 p-4">
            <p class="text-xs font-semibold text-cyan-400 mb-1">${news.date} â€¢ ${news.category}</p>
            <h3 class="font-bold text-white text-lg mb-2">${news.title}</h3>
            <p class="text-gray-300 text-sm leading-relaxed">${news.preview}</p>
          </div>
        </div>
      `;
      newsCardsHTML += newsCard;
    });

    // Suntikkan semua card yang sudah dibuat ke dalam container HTML
    newsContainer.innerHTML = newsCardsHTML;
  });
</script>
